"use strict";(self.webpackChunkrimbu_docs=self.webpackChunkrimbu_docs||[]).push([[22504],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>h});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=s(a),u=r,h=d["".concat(p,".").concat(u)]||d[u]||c[u]||i;return a?n.createElement(h,o(o({ref:t},m),{},{components:a})):n.createElement(h,o({ref:t},m))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},28187:(e,t,a)=>{a.d(t,{G:()=>i});var n=a(67294);function r(e){return e.replace(/</g,"%3C").replace(/>/g,"%3E")}function i(e){const t=r(`https://g.gravizo.com/svg?\n  @startuml;\n  skinparam monochrome true;\n  skinparam backgroundColor none;\n  skinparam classBackgroundColor darkslategrey;\n  skinparam classBorderColor gray;\n  skinparam classFontColor lightgray;\n  skinparam classStereotypeFontColor darkgray;\n  skinparam arrowColor lightgray;\n  skinparam linetype ortho;\n  ${e.contents}\n  @enduml;`);return n.createElement("img",{src:t,className:"diagram"})}},88508:(e,t,a)=>{a.d(t,{r:()=>h});var n=a(67294),r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,m=(e,t,a)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,d=(e,t)=>{for(var a in t||(t={}))p.call(t,a)&&m(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&m(e,a,t[a]);return e},c=(e,t)=>i(e,o(t));const u={previewwindow:"console",view:"split",editorsize:"60",codemirror:"1",moduleview:"1"};function h(e){const t=function(e){let t="",a="";for(const n in e)t+=`${a}${n}=${e[n]}`,a="&";return""===t?"":`?${t}`}(c(d({},u),{module:`/src/${e.path}`})),a=`https://codesandbox.io/embed/github/vitoke/rimbu-sandbox/tree/main${t}`,r=`https://codesandbox.io/s/github/vitoke/rimbu-sandbox/tree/main${t}`;return n.createElement(n.Fragment,null,n.createElement("a",{target:"_blank",className:"button button--secondary",href:r,style:{marginBottom:10}},"Open file below in new window with full type-check"),n.createElement("iframe",{src:a,className:"codesandbox-iframe",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}))}},50381:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>v,contentTitle:()=>f,default:()=>O,frontMatter:()=>b,metadata:()=>g,toc:()=>w});var n=a(3905),r=a(28187);const i="\ninterface Streamable<[K, V]>;\n\ninterface VariantMap<K, V>;\nabstract RMap<K, V>;\nclass HashMap<K, V>;\nclass SortedMap<K, V>;\n\nStreamable <|.. VariantMap;\nVariantMap <|-- RMap;\nRMap <|-- HashMap;\nRMap <|-- SortedMap;\nRMap <|-- ProximityMap;\n";var o=a(88508),l=Object.defineProperty,p=Object.defineProperties,s=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,a)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,h=(e,t)=>{for(var a in t||(t={}))d.call(t,a)&&u(e,a,t[a]);if(m)for(var a of m(t))c.call(t,a)&&u(e,a,t[a]);return e},y=(e,t)=>p(e,s(t)),k=(e,t)=>{var a={};for(var n in e)d.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&m)for(var n of m(e))t.indexOf(n)<0&&c.call(e,n)&&(a[n]=e[n]);return a};const b={id:"map",slug:"./map",title:"Map"},f="Map",g={unversionedId:"collections/map",id:"collections/map",title:"Map",description:"A Map is a collection of entries, where each entry has a key and a value. Each key has exactly one value, and each key is unique. Values do not need to be unique.",source:"@site/docs/collections/map.mdx",sourceDirName:"collections",slug:"/collections/map",permalink:"/docs/collections/map",draft:!1,editUrl:"https://github.com/rimbu-org/rimbu/edit/master/website/docs/collections/map.mdx",tags:[],version:"current",frontMatter:{id:"map",slug:"./map",title:"Map"},sidebar:"sidebar",previous:{title:"List",permalink:"/docs/collections/list"},next:{title:"MultiMap",permalink:"/docs/collections/multimap"}},v={},w=[{value:"When to use",id:"when-to-use",level:2},{value:"HashMap",id:"hashmap",level:2},{value:"SortedMap",id:"sortedmap",level:2},{value:"OrderedMap",id:"orderedmap",level:2},{value:"ProximityMap",id:"proximitymap",level:2},{value:"Exports",id:"exports",level:2},{value:"Inheritance",id:"inheritance",level:2},{value:"Usage",id:"usage",level:2},{value:"Creation",id:"creation",level:3},{value:"Query",id:"query",level:3},{value:"Builder",id:"builder",level:3}],N={toc:w},M="wrapper";function O(e){var t=e,{components:a}=t,l=k(t,["components"]);return(0,n.kt)(M,y(h(h({},N),l),{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h1",h({},{id:"map"}),"Map"),(0,n.kt)("p",null,"A Map is a collection of entries, where each entry has a key and a value. Each key has exactly one value, and each key is unique. Values do not need to be unique."),(0,n.kt)("h2",h({},{id:"when-to-use"}),"When to use"),(0,n.kt)("p",null,"The Map is a useful when it is useful to assign values of objects to unique entities of a certain type. For example, consider currencies and their values. Using a Map we can assign a value to each currency, e.g. euro and dollar. We can update their values, and we can query the value of a specific currency. It does not really make much sense to query using a value to get a currency, so a ",(0,n.kt)("inlineCode",{parentName:"p"},"BiMap")," would not be useful in this case."),(0,n.kt)("admonition",h({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Rimbu provides one unordered immutable map implementation, being ",(0,n.kt)("inlineCode",{parentName:"p"},"HashMap"),", and two ordered immutable maps, being ",(0,n.kt)("inlineCode",{parentName:"p"},"SortedMap")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"OrderedMap"))),(0,n.kt)("h2",h({},{id:"hashmap"}),"HashMap"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"HashMap")," uses a ",(0,n.kt)("inlineCode",{parentName:"p"},"Hasher")," instance to convert values and objects into numbers that can be used to effeciently organize items within the collection. This results in the values being 'unordered', that is, iterating over the collection will not necessarily return the values in insertion order."),(0,n.kt)("h2",h({},{id:"sortedmap"}),"SortedMap"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"SortedMap")," uses a ",(0,n.kt)("inlineCode",{parentName:"p"},"Comp")," instance that can compare two elements and return a number indicating whether they are equal or which one is 'larger'. The ",(0,n.kt)("inlineCode",{parentName:"p"},"Sortedap")," uses this method to keep the elements in sorted order, so that iteration will always return the elements in sorted order as well."),(0,n.kt)("h2",h({},{id:"orderedmap"}),"OrderedMap"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"OrderedMap")," maintains an extra ",(0,n.kt)("inlineCode",{parentName:"p"},"List")," or the inserted keys in insertion order. At the cost of extra memory usage for the List, the ",(0,n.kt)("inlineCode",{parentName:"p"},"OrderedMap")," will return entries in the insertion order when iterating over its values."),(0,n.kt)("h2",h({},{id:"proximitymap"}),"ProximityMap"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"ProximityMap")," is a map whose ",(0,n.kt)("inlineCode",{parentName:"p"},"get()")," method is based not on ",(0,n.kt)("em",{parentName:"p"},"equality"),", but on ",(0,n.kt)("em",{parentName:"p"},"proximity"),": it performs an interruptible linear scan of all the keys, returning the value associated with the key ",(0,n.kt)("em",{parentName:"p"},"closest")," to the given input key, according to an arbitrary ",(0,n.kt)("em",{parentName:"p"},"distance function"),"."),(0,n.kt)("h2",h({},{id:"exports"}),"Exports"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"@rimbu/core")," package exports the following ",(0,n.kt)("em",{parentName:"p"},"abstract")," Map TypeScript types:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",h({parentName:"tr"},{align:null}),"Name"),(0,n.kt)("th",h({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",h({parentName:"tr"},{align:null}),(0,n.kt)("a",h({parentName:"td"},{href:"/api/rimbu/collection-types/map/VariantMap/namespace"}),(0,n.kt)("inlineCode",{parentName:"a"},"VariantMap<K, V>"))),(0,n.kt)("td",h({parentName:"tr"},{align:null}),"a type-variant map with entries of key type K and value type V")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",h({parentName:"tr"},{align:null}),(0,n.kt)("a",h({parentName:"td"},{href:"/api/rimbu/collection-types/map/RMap/namespace"}),(0,n.kt)("inlineCode",{parentName:"a"},"RMap<K, V>"))),(0,n.kt)("td",h({parentName:"tr"},{align:null}),"a generic map with entries of key type K and value type V")))),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"@rimbu/core")," package exports the following ",(0,n.kt)("em",{parentName:"p"},"concrete")," Map TypeScript types:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",h({parentName:"tr"},{align:null}),"Name"),(0,n.kt)("th",h({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",h({parentName:"tr"},{align:null}),(0,n.kt)("a",h({parentName:"td"},{href:"/api/rimbu/hashed/map/HashMap/namespace"}),(0,n.kt)("inlineCode",{parentName:"a"},"HashMap<K, V>"))),(0,n.kt)("td",h({parentName:"tr"},{align:null}),"a map with entries of key type K and value type V, where keys are hashed with a ",(0,n.kt)("inlineCode",{parentName:"td"},"Hasher"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",h({parentName:"tr"},{align:null}),(0,n.kt)("a",h({parentName:"td"},{href:"/api/rimbu/sorted/map/SortedMap/namespace"}),(0,n.kt)("inlineCode",{parentName:"a"},"SortedMap<K, V>"))),(0,n.kt)("td",h({parentName:"tr"},{align:null}),"a map with entries of key type K and value type V, where keys are sorted with a ",(0,n.kt)("inlineCode",{parentName:"td"},"Comp"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",h({parentName:"tr"},{align:null}),(0,n.kt)("a",h({parentName:"td"},{href:"/api/rimbu/ordered/map/OrderedMap/namespace"}),(0,n.kt)("inlineCode",{parentName:"a"},"OrderedMap<K, V>"))),(0,n.kt)("td",h({parentName:"tr"},{align:null}),"a map with entries of key type K and value type V, where key insertion order is maintained")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",h({parentName:"tr"},{align:null}),(0,n.kt)("a",h({parentName:"td"},{href:"/api/rimbu/proximity/map/ProximityMap/namespace"}),(0,n.kt)("inlineCode",{parentName:"a"},"ProximityMap<K, V>"))),(0,n.kt)("td",h({parentName:"tr"},{align:null}),"a map with entries of key type K and value type V, where value retrieval is based on ",(0,n.kt)("em",{parentName:"td"},"proximity"))))),(0,n.kt)("h2",h({},{id:"inheritance"}),"Inheritance"),(0,n.kt)(r.G,{contents:i,mdxType:"UmlGraph"}),(0,n.kt)("h2",h({},{id:"usage"}),"Usage"),(0,n.kt)("h3",h({},{id:"creation"}),"Creation"),(0,n.kt)(o.r,{path:"map/create.ts",mdxType:"SandBox"}),(0,n.kt)("h3",h({},{id:"query"}),"Query"),(0,n.kt)(o.r,{path:"map/query.ts",mdxType:"SandBox"}),(0,n.kt)("h3",h({},{id:"builder"}),"Builder"),(0,n.kt)(o.r,{path:"map/build.ts",mdxType:"SandBox"}))}O.isMDXComponent=!0}}]);